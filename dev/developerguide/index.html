<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Developer guide · Sequences</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link href="../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><a href="../index.html"><img class="logo" src="../assets/logo.png" alt="Sequences logo"/></a><h1>Sequences</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../about/">About</a></li><li><a class="toctext" href="../">Sequences</a></li><li><a class="toctext" href="../modules/">Modules</a></li><li><a class="toctext" href="../notebooks/">Notebooks and demos</a></li><li><a class="toctext" href="../userguide/">User guide</a></li><li class="current"><a class="toctext" href>Developer guide</a><ul class="internal"><li><a class="toctext" href="#Workflow-1">Workflow</a></li><li><a class="toctext" href="#Module-format-1">Module format</a></li><li><a class="toctext" href="#Package-build-1">Package build</a></li><li><a class="toctext" href="#Integer-type-and-unicode-use-1">Integer type and unicode use</a></li><li><a class="toctext" href="#Muliti-dimensional-sequences-1">Muliti-dimensional sequences</a></li><li><a class="toctext" href="#Preferred-contributions-1">Preferred contributions</a></li></ul></li><li><a class="toctext" href="../useofoeis/">Use of the OEIS</a></li><li><a class="toctext" href="../license/">License</a></li></ul></nav><article id="docs"><header><nav><ul><li><a href>Developer guide</a></li></ul><a class="edit-page" href="https://github.com/OpenLibMathSeq/Sequences.jl/blob/master/docs/src/developerguide.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Developer guide</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Developer-Guide-1" href="#Developer-Guide-1">Developer Guide</a></h1><h2><a class="nav-anchor" id="Workflow-1" href="#Workflow-1">Workflow</a></h2><p>The workflow is characterized by the decision to keep functions and the corresponding test functions in the same file. This enables easier and faster development in separate modules and is also suggested by the relative independence of many individual modules implementing different sequences.</p><p>The modules are combined to a package in a separate step. The prerequisite for this is an internal file format whose (simple) conventions must be adhered to.</p><h2><a class="nav-anchor" id="Module-format-1" href="#Module-format-1">Module format</a></h2><pre><code class="language-none">    # This file is part of Sequences.
    # Copyright Name. License is MIT.

    (@__DIR__) ∉ LOAD_PATH &amp;&amp; push!(LOAD_PATH, (@__DIR__))

    module ModuleName
    using  ...
    export f

    function f()
    end

    #START-TEST-###########################

    using Test

    function test()
    end

    function demo()
    end

    function perf()
    end

    function main()
        test()
        demo()
        perf()
    end

    main()

    end # module</code></pre><h2><a class="nav-anchor" id="Package-build-1" href="#Package-build-1">Package build</a></h2><p>The package is build by executing BuildSequences.jl. This will pars the individual module files and recombine and distribute their content into three new files:</p><ul><li>Sequences.jl</li><li>runtests.jl</li><li>perftests.jl</li></ul><p>The functions in the module which come before the line starting with &quot;#START-TEST&quot; will be copied to Sequences.jl, the function test() will be copied to runtests.jl, and the function perf() will be copied to perftests.jl. Everything else will be discarded.</p><p>In particular: Do not edit Sequences.jl, it is generated from the modules and will be overwritten! Instead edit the modules in the &#39;src&#39; directory. These modules can and should be tested standalone. Only construct Sequences.jl with BuildSequences.jl in a final step.</p><h2><a class="nav-anchor" id="Integer-type-and-unicode-use-1" href="#Integer-type-and-unicode-use-1">Integer type and unicode use</a></h2><p>All terms of all sequences have the same type. Currently this is the type fmpz as provided by the Nemo library.</p><p>Sequences supports the use of notation using unicode characters, especially the traditional notation used in number theory. For example we define</p><pre><code class="language-none">    τ(n) = Nemo.sigma(n, 0)
    μ(n) = Nemo.moebiusmu(n)</code></pre><p>We also support new notations like the proposal from Knuth, Graham and Patashnik in Concrete Mathematics: &quot;Let us agree to write <span>$m ⊥ n$</span>, and to say <code>m is prime to n</code>, if <span>$m$</span> and <span>$n$</span> are relatively prime.&quot;</p><pre><code class="language-none">    ⊥(m, n) = isPrimeTo(m, n)</code></pre><p>where <code>isPrimeTo</code> is defined as:</p><pre><code class="language-none">    isPrimeTo(n, k) = Nemo.gcd(fmpz(n), fmpz(k)) == fmpz(1)</code></pre><p>For example <span>$⊥(n, ϕ(n))$</span> indicates if there is just one group of order <span>$n$</span>. But this is not only a concise mathematical formula, this is also valid Julia code (defined in Sequences). The predicate gives rise to the sequence of cyclic numbers, A003277 in the OEIS.</p><p>Similarly possible definitions of some sequences (not necessarily efficient ones in the computational sense) are</p><pre><code class="language-none">    isA008578(n) = all(⊥(k, n)     for k in 1:n-1)
    isA002182(n) = all(τ(k) &lt; τ(n) for k in 1:n-1)
    isA002110(n) = all(ω(k) &lt; ω(n) for k in 1:n-1)
    isA131577(n) = all(Ω(k) &lt; Ω(n) for k in 1:n-1)</code></pre><p>Other examples for the use of unicode are products. <span>$∏(a, b)$</span> is defined as the product of <span>$i$</span> in <span>$a:b$</span> if <span>$a ≤ b$</span> and otherwise <span>$1$</span>. Building on this short notations for the rising and the falling factorial powers are supported:</p><pre><code class="language-none">    ↑(n, k) = RisingFactorial(n, k)
    RisingFactorial(n::Int, k::Int) = ∏(n, n + k - 1)
    ↓(n, k) = FallingFactorial(n, k)
    FallingFactorial(n::Int, k::Int) = ∏(n - k + 1, n)</code></pre><h2><a class="nav-anchor" id="Muliti-dimensional-sequences-1" href="#Muliti-dimensional-sequences-1">Muliti-dimensional sequences</a></h2><h3><a class="nav-anchor" id="The-concept-of-a-sequence-1" href="#The-concept-of-a-sequence-1">The concept of a sequence</a></h3><p>Sequences as considered here are weakly ordered sets and in fact we consider only infinite ordered sets. Thus something like</p><pre><code class="language-none">a ≺ b ≺ c ≺ d ≺ ...</code></pre><p>is an adequate picture of our concept. (Note that ≺ means &#39;precedes&#39;, not &#39;is less&#39;.) The dynamic counterpart to this static view is the iteration, in which the individual terms of the sequence are successively returned in the given order by a generating function.</p><pre><code class="language-none">a, b, c, d, ...</code></pre><p>In the OEIS, on the other hand, a sequence is an enumeration, a set with an index function where the first index (called offset o) is specified. With this we arrive at this picture:</p><pre><code class="language-none">``a_o, b_{o+1}, c_{o+2}, d_{o+3}, ...``</code></pre><p>In this view a list (representing the initial segment of the sequence) takes the place of the iteration.</p><pre><code class="language-none">``[ a_{o}, b_{o+1}, c_{o+2}, ..., z_{o+n-1} ]``</code></pre><p>In contrast in our setup the concept of offset and indexing does not occur at all but is transferred to the interpretation: only the application decides about indexing and offset. In practice our setup avoiding the use of an offset turns out to be more flexible.</p><p>Another difference serves to be highlighted: In an iteration the length does not have to be determined beforehand, an iteration can be terminated at any time. In the case of a list, however, the length must be specified beforehand.</p><h3><a class="nav-anchor" id="dim-sequences-1" href="#dim-sequences-1">1-dim sequences</a></h3><p>All this does not exclude that while describing a sequence informally it is often useful to assume an enumeration. If not explicitly stated otherwise we assume a sequence to be based in the origin 0 in the one dimensional case and in (0, 0) in the case of triangles; similar with higher order sequences.</p><p>The main reason for these conventions is the representation of sequences by formal power series, i.e.</p><pre><code class="language-none">``g(x) = a_{0}x^0 + a_{1}x^1 + a_{2}x^2 + ...``</code></pre><p>The function <code>coefficients(g)</code> maps the series to the sequence</p><pre><code class="language-none">``a_{0}, a_{1}, a_{2}, ...``.</code></pre><h3><a class="nav-anchor" id="dim-sequences-2" href="#dim-sequences-2">2-dim sequences</a></h3><p>2-dimensional arrays come in two flavors: as parametrized sequences (family of sequences) and as triangles (family of polynomials). In this view the setup is according to our conventions:</p><h5><a class="nav-anchor" id="T-enumerated-as-a-triangle-(or-coefficients-of-a-family-of-polynomials)-1" href="#T-enumerated-as-a-triangle-(or-coefficients-of-a-family-of-polynomials)-1">T enumerated as a triangle (or coefficients of a family of polynomials)</a></h5><table><tr><th>n\k</th><th>0</th><th>1</th><th>2</th><th>3</th><th>4</th><th>5</th></tr><tr><td><strong>0</strong></td><td>T(0,0)</td><td></td><td></td><td></td><td></td><td></td></tr><tr><td><strong>1</strong></td><td>T(1,0)</td><td>T(1,1)</td><td></td><td></td><td></td><td></td></tr><tr><td><strong>2</strong></td><td>T(2,0)</td><td>T(2,1)</td><td>T(2,2)</td><td></td><td></td><td></td></tr><tr><td><strong>3</strong></td><td>T(3,0)</td><td>T(3,1)</td><td>T(3,2)</td><td>T(3,3)</td><td></td><td></td></tr><tr><td><strong>4</strong></td><td>T(4,0)</td><td>T(4,1)</td><td>T(4,2)</td><td>T(4,3)</td><td>T(4,4)</td><td></td></tr><tr><td><strong>5</strong></td><td>T(5,0)</td><td>T(5,1)</td><td>T(5,2)</td><td>T(5,3)</td><td>T(5,4)</td><td>T(5,5)</td></tr></table><h5><a class="nav-anchor" id="T-enumerated-as-a-rectangle-(or-parametrized-family-of-sequences)-1" href="#T-enumerated-as-a-rectangle-(or-parametrized-family-of-sequences)-1">T enumerated as a rectangle (or parametrized family of sequences)</a></h5><table><tr><th>n\k</th><th>0</th><th>1</th><th>2</th><th>3</th><th>4</th><th>...</th></tr><tr><td><strong>0</strong></td><td>T(0,0)</td><td>T(1,1)</td><td>T(2,2)</td><td>T(3,3)</td><td>T(4,4)</td><td>...</td></tr><tr><td><strong>1</strong></td><td>T(1,0)</td><td>T(2,1)</td><td>T(3,2)</td><td>T(4,3)</td><td>T(5,4)</td><td>...</td></tr><tr><td><strong>2</strong></td><td>T(2,0)</td><td>T(3,1)</td><td>T(4,2)</td><td>T(5,3)</td><td>T(6,4)</td><td>...</td></tr><tr><td><strong>3</strong></td><td>T(3,0)</td><td>T(4,1)</td><td>T(5,2)</td><td>T(6,3)</td><td>T(7,4)</td><td>...</td></tr><tr><td><strong>4</strong></td><td>T(4,0)</td><td>T(5,1)</td><td>T(6,2)</td><td>T(7,3)</td><td>T(8,4)</td><td>...</td></tr></table><p>Informally we can say that pushing the k-th column of a triangle up k cells transforms the triangle into the rectangle. Formally the indices are transformed <span>$(n, k) ↦ (n+k, k)$</span> when proceeding from the triangle form to the rectangular form.</p><h3><a class="nav-anchor" id="dim-sequences-3" href="#dim-sequences-3">3-dim sequences</a></h3><p>3-dimensional arrays are implemented here only as parametrized triangles (family of triangles). For example consider:</p><pre><code class="language-none">``T(n,k,m) = [t^n] Γ(n+k+m+t)/Γ(k+m+t) for n,m ≥ 0 and 0 ≤ k ≤ n.``

A307419(n, k) = T(n, k, 0)
A325137(n, k) = T(n, k, 1)
A325139(n, k) = T(n, k, 2)

A000254(n) = T(n+1, 1, 0) = A307419(n+1, 1)
A001706(n) = T(n+2, 2, 0) = A307419(n+2, 2)
A001713(n) = T(n+3, 3, 0) = A307419(n+3, 3)
A001719(n) = T(n+4, 4, 0) = A307419(n+4, 4)

A001705(n) = T(n+1, 1, 1) = A325137(n+1, 1)
A001712(n) = T(n+2, 2, 1) = A325137(n+2, 2)
A001718(n) = T(n+3, 3, 1) = A325137(n+3, 3)
A001724(n) = T(n+4, 4, 1) = A325137(n+4, 4)

A001711(n) = T(n+1, 1, 2) = A325139(n+1, 1)
A001717(n) = T(n+2, 2, 2) = A325139(n+2, 2)
A001723(n) = T(n+3, 3, 2) = A325139(n+3, 3)</code></pre><h2><a class="nav-anchor" id="Preferred-contributions-1" href="#Preferred-contributions-1">Preferred contributions</a></h2><p>We prefer parametrized sequences (family of sequences) over single ones and triangles (family of polynomials) over straight sequences. In other words, we strongly encourage an top-down approach of the presentation. An example of this style can be seen above in the 3-dim section.</p><p>Implementations of sequence-to-sequence transformations are always welcome.</p><footer><hr/><a class="previous" href="../userguide/"><span class="direction">Previous</span><span class="title">User guide</span></a><a class="next" href="../useofoeis/"><span class="direction">Next</span><span class="title">Use of the OEIS</span></a></footer></article></body></html>
